(this["webpackJsonpgestion-de-proyectos-mintic"]=this["webpackJsonpgestion-de-proyectos-mintic"]||[]).push([[0],{121:function(e,t,c){},128:function(e,t,c){},129:function(e,t,c){},130:function(e,t,c){"use strict";c.r(t);var n,s,a,r,i,o,l,d,j,b,u,x,m,O=c(1),f=c.n(O),h=c(40),p=c.n(h),g=c(6),v=c(46),y=c(17),N=Object(O.createContext)(null),w=function(){return Object(O.useContext)(N)},I=Object(O.createContext)(null),E=function(){return Object(O.useContext)(I)},S=c(0),D=function(e){var t=e.roleList,c=e.children,n=E().userData;return t.includes(n.rol)?c:Object(S.jsx)(S.Fragment,{})},k=function(){return Object(S.jsxs)("ul",{className:"mt-18",children:[Object(S.jsx)($,{to:"",title:"Inicio",icon:"fas fa-home"}),Object(S.jsx)(D,{roleList:["ADMINISTRADOR"],children:Object(S.jsx)($,{to:"/usuarios",title:"Usuarios",icon:"fas fa-user"})}),Object(S.jsx)($,{to:"/proyectos",title:"Proyectos",icon:"fas fa-smile-wink"}),Object(S.jsx)($,{to:"/avances",title:"Avance de proyectos",icon:"fas fa-smile-wink"}),Object(S.jsx)(D,{roleList:["ADMINISTRADOR","LIDER"],children:Object(S.jsx)($,{to:"/inscripciones",title:"Aprobacion Inscripciones",icon:"fas fa-user"})}),Object(S.jsx)(C,{})]})},C=function(){var e=w().setToken;return Object(S.jsx)("li",{onClick:function(){return console.log("eliminar token"),void e(null)},children:Object(S.jsx)(y.c,{to:"/inicio",className:"sidebar-route text-white",children:Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)("i",{className:"fas fa-sign-out-alt"}),Object(S.jsx)("span",{className:"text-sm  ml-2",children:"Cerrar Sesi\xf3n"})]})})})},_=function(){return Object(S.jsxs)("div",{className:"py-3 w-full flex flex-col items-center justify-center",children:[Object(S.jsx)("img",{src:"https://i.imgur.com/9ktNOcx.png",alt:"Logo",className:"h-16"}),Object(S.jsx)("span",{className:"my-2 text-xl font-bold text-center",children:"ARTMOTICS"})]})},A=function(){return Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"sidebar h-full z-40 absolute md:h-full sm:hidden transition duration-150 ease-in-out",id:"mobile-nav",children:Object(S.jsxs)("div",{className:"px-8",children:[Object(S.jsx)(_,{}),Object(S.jsx)(k,{})]})})})},$=function(e){var t=e.to,c=e.title,n=e.icon;return Object(S.jsx)("li",{children:Object(S.jsx)(y.c,{to:t,className:function(e){return e.isActive?"sidebar-route text-red-700 bg-white":"sidebar-route text-gray-900 hover:text-red-700 hover:bg-red-400"},children:Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)("i",{className:n}),Object(S.jsx)("span",{className:"text-sm  ml-2",children:c})]})})})},T=function(){var e=Object(O.useState)(!0),t=Object(g.a)(e,2),c=t[0],n=t[1];return Object(S.jsxs)("div",{className:"flex flex-col md:flex-row flex-no-wrap md:h-full",children:[Object(S.jsx)("div",{className:"sidebar hidden md:flex",children:Object(S.jsxs)("div",{className:"px-8",children:[Object(S.jsx)(_,{}),Object(S.jsx)(k,{})]})}),Object(S.jsxs)("div",{className:"flex md:hidden w-full justify-between bg-gray-800 p-2 text-white",children:[Object(S.jsx)("i",{className:"fas fa-".concat(c?"times":"bars"),onClick:function(){return n(!c)}}),Object(S.jsx)("i",{className:"fas fa-home"})]}),c&&Object(S.jsx)(A,{})]})},R=c(9),P=c(31),L=c(156),F=c(16),q=c(167),U=Object(q.a)(n||(n=Object(F.a)(["\n  mutation Registro(\n    $nombre: String!\n    $apellido: String!\n    $identificacion: String!\n    $correo: String!\n    $rol: Enum_Rol!\n    $password: String!\n  ) {\n    registro(\n      nombre: $nombre\n      apellido: $apellido\n      identificacion: $identificacion\n      correo: $correo\n      rol: $rol\n      password: $password\n    ) {\n      token\n      error\n    }\n  }\n"]))),M=Object(q.a)(s||(s=Object(F.a)(["\n  mutation Login($correo: String!, $password: String!) {\n    login(correo: $correo, password: $password) {\n      token\n      error\n    }\n  }\n"]))),z=Object(q.a)(a||(a=Object(F.a)(["\n  mutation RefreshToken {\n    refreshToken {\n      token\n      error\n    }\n  }\n"]))),V=(c(119),function(){var e=Object(R.g)(),t=w().setToken,c=Object(O.useState)(!0),n=Object(g.a)(c,2),s=n[0],a=n[1],r=Object(L.a)(z),i=Object(g.a)(r,2),o=i[0],l=i[1],d=l.data,j=l.loading;return Object(O.useEffect)((function(){o()}),[o]),Object(O.useEffect)((function(){d&&(d.refreshToken.token?t(d.refreshToken.token):(t(null),e("/auth/login")),a(!1))}),[d,t,s,e]),j||s?Object(S.jsx)("div",{children:"Loading..."}):Object(S.jsxs)("div",{className:"flex flex-col md:flex-row flex-no-wrap h-screen",children:[Object(S.jsx)(T,{}),Object(S.jsx)("div",{className:"flex w-full h-full",children:Object(S.jsx)("div",{className:"w-full h-full  overflow-y-scroll",children:Object(S.jsx)(R.a,{})})}),Object(S.jsx)(P.a,{})]})}),G=function(){return Object(S.jsx)("nav",{className:"bg-gray-700 shadow-lg",children:Object(S.jsx)("div",{className:"container mx-auto PX-4",children:Object(S.jsxs)("div",{className:"sm:flex justify-around",children:[Object(S.jsx)("a",{href:"/inicio",className:"text-white text-3xl font-bold p-3",children:"ARTMOTICS"}),Object(S.jsx)("ul",{className:"text-gray-400 sm:self-center text-xl border-t sm:border-none",children:Object(S.jsx)("li",{className:"sm:inline-block",children:Object(S.jsx)(y.b,{to:"/auth/login",children:Object(S.jsx)("button",{classNameName:"bg-gray-500 p-2 text-white rounded-lg shadow-md hover:bg-gray-400",children:"Iniciar Sesi\xf3n"})})})})]})})})},J=function(){return Object(S.jsx)("div",{className:"text-gray-100 bg-gray-800 mt-10",id:"footer",children:Object(S.jsxs)("div",{className:"max-w-3xl mx-auto py-6",children:[Object(S.jsxs)("h1",{className:"text-center text-lg lg:text-2xl",children:["Si desea recibir informaci\xf3n sobre nuestras ofertas ",Object(S.jsx)("br",{})," Envianos un correo"]}),Object(S.jsx)("div",{className:"flex justify-center mt-6",children:Object(S.jsx)("div",{className:"bg-white rounded-md",children:Object(S.jsxs)("div",{className:"flex flex-wrap justify-between md:flex-row",children:[Object(S.jsx)("input",{type:"email",className:"m-1 p-2 appearance-none text-gray-700 text-sm focus:outline-none focus:placeholder-transparent",placeholder:"Enter your email","arial-label":"Enter your email"}),Object(S.jsx)("button",{className:"w-full m-1 p-2 text-sm bg-gray-800 rounded font-semibold uppercase lg:w-auto hover:bg-gray-700",children:"Informate"})]})})}),Object(S.jsx)("hr",{className:"h-px mt-6 bg-gray-700 border-none"}),Object(S.jsxs)("div",{className:"flex flex-col items-center justify-between mt-6 md:flex-row",children:[Object(S.jsx)("div",{children:Object(S.jsx)("a",{href:"/inicio",className:"text-xl font-bold text-gray-100 hover:text-gray-400",children:"ForzaSoft"})}),Object(S.jsx)("div",{className:"flex mt-4 md:m-0",children:Object(S.jsxs)("div",{className:"flex mt-4 md:m-0",children:[Object(S.jsx)("a",{href:"/inicio",className:"px-4 text-sm text-gray-100 font-medium hover_text-gray-400",children:"inicio"}),Object(S.jsx)("a",{href:"/#Servicios",className:"px-4 text-sm text-gray-100 font-medium hover_text-gray-400",children:"Servicios"}),Object(S.jsx)("a",{href:"/#Imagenes",className:"px-4 text-sm text-gray-100 font-medium hover_text-gray-400",children:"Imagenes"}),Object(S.jsx)("a",{href:"/#footer",className:"px-4 text-sm text-gray-100 font-medium hover_text-gray-400",children:"Contactos"})]})})]})]})})},Y=(c(121),function(){return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"grid max-w-6xl grid-cols-1 mx-auto mt-4 lg:grid-cols-7 font-display",children:[Object(S.jsxs)("div",{className:"w-full h-full col-span-full lg:col-span-4 lg:pr-8",children:[Object(S.jsx)("h1",{className:"text-7xl font-bold tracking-tight",children:"Los mejores productos comienzan con ArtMotics"}),Object(S.jsx)("h3",{className:"mt-3 text-2x1 text-gray-700 leading-relaxed",children:"ArtMotics es una empresa colombiana dedicada a la fabricaci\xf3n de herramientas y objetos en 3D. Los usuarios pueden revisar dise\xf1os anteriores y/o solicitar nuevos con base en alguna imagen. ArtMotics tambi\xe9n posee convenios con otras empresas para realizar un servicio mas completo."}),Object(S.jsx)("div",{className:"flex mt-8 space-x-4",children:Object(S.jsx)("a",{href:"/#",className:"px-4 py-3 font-semibold text-white transition duraction-200 transform rounded-sm shadow-sm bg-gray-700 hover:bg-gray-600",children:"Ver Imagenes"})})]}),Object(S.jsx)("div",{className:"max-w-lg mx-auto col-span-full lg:col-span-3 lg:max-w-full",children:Object(S.jsx)("img",{src:"https://www.enter.co/wp-content/uploads/2014/04/impr-dest.jpg",className:"flex-shrink-0  w-full h-full",alt:""})})]}),Object(S.jsxs)("div",{className:"relative flex max-w-xl mx-auto mt-12 bg-white border border-gray-200 rounded-md h-44 font-display",children:[Object(S.jsx)("div",{className:"absolute inset-0 w-full h-full shadow-lg opacity-50"}),Object(S.jsx)("div",{className:"w-2/5 overflow-hidden rounded-l-md",children:Object(S.jsx)("img",{src:"https://i.ytimg.com/vi/MdwA-3aDCEo/sddefault.jpg",className:"object-cover h-full",alt:""})}),Object(S.jsx)("div",{className:"flex items-center justify-center w-3/5 p-3 bg-white rounded-r-md",children:Object(S.jsx)("h3",{className:"text-xl font-bold leading-tight tracking-tight",children:"planeamos de acuerdos a tus necesidades"})})]}),Object(S.jsxs)("div",{className:"flex items-center justify-around h-6 px-1 mx-auto mt-4 bg-gray-100 rounded-full w-14",children:[Object(S.jsx)("div",{className:"w-2 h-2 bg-gray-600 rounded-full"}),Object(S.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),Object(S.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"})]}),Object(S.jsx)("div",{className:"max-w-6xl mt-16 mx-auto",children:Object(S.jsx)("h3",{className:"mx-auto text-gray-600 uppercase text-md text-center",children:"Los mejores productos certificados por nuestros cliente"})}),Object(S.jsxs)("div",{className:"grid max-w-6xl grid-cols-3 mx-auto mt-16 font-display",id:"Servicios",children:[Object(S.jsxs)("div",{className:"col-span-1 lg:pr-8",children:[Object(S.jsx)("h4",{className:"font-semibold tracking-tight text-gray-500 uppercasetext-md",children:"DESING"}),Object(S.jsx)("h2",{className:"mt-2 text-4xl font-bold text-gray-800",children:"Trabaja r\xe1pido, crea maravillosamente"}),Object(S.jsx)("p",{className:"mt-4 text-xl leading-relaxed text-gray-600",children:"ArtMotics es una de las principales empresas de venta de productos y servicios relacionados con la impresi\xf3n 3D de Colombia, as\xed como una de las empresas m\xe1s veteranas del sector."}),Object(S.jsx)("a",{href:"https://www.impresoras3d.com/",className:"mt-8 inline-block px-5 py-3 font-semibold text-white transition duraction-200 transform rounded-sm shadow-sm bg-gray-700 hover:bg-gray-600",children:"Learn more"})]}),Object(S.jsx)("div",{className:"col-span-2",children:Object(S.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/hlLJV3AlPOc",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})})]}),Object(S.jsx)("div",{className:"grid max-w-6xl grid-cols-1 mx-auto mt-12 lg:grid-cols-7 font-display",children:Object(S.jsx)("h4",{className:"font-semibold tracking-tight text-gray-500 uppercasetext-md",children:"IMAGENES"})}),Object(S.jsxs)("div",{className:"grid max-w-6xl grid-cols-1 mx-auto mt-1 lg:grid-cols-7 font-display",id:"Imagenes",children:[Object(S.jsx)("div",{className:"w-full h-full col-span-full lg:col-span-4 lg:pr-8",children:Object(S.jsx)("div",{className:"max-w-lg mx-auto col-span-full lg:col-span-3 lg:pr-8",children:Object(S.jsx)("img",{src:"https://www.stanser.com/wp-content/uploads/2018/09/mecanizado-cnc3.jpg",className:"flex-shrink-0 w-full h-full",alt:""})})}),Object(S.jsx)("div",{className:"max-w-lg mx-auto col-span-full lg:col-span-3 lg:pr-3",children:Object(S.jsx)("img",{src:"https://cdn.domestika.org/c_fill,dpr_auto,f_auto,h_630,q_auto,w_1200/v1597618429/blog-post-open-graph-covers/000/004/637/4637-original.png?1597618429",className:"flex-shrink-0 w-full h-full",alt:""})})]}),Object(S.jsxs)("div",{className:"grid max-w-6xl grid-cols-1 mx-auto mt-8 lg:grid-cols-7 font-display",id:"Imagenes",children:[Object(S.jsx)("div",{className:"w-full h-full col-span-full lg:col-span-4 lg:pr-8",children:Object(S.jsx)("div",{className:"max-w-lg mx-auto col-span-full lg:col-span-3 lg:pr-8",children:Object(S.jsx)("img",{src:"https://m.media-amazon.com/images/I/71ySLMOuTJL._SL1500_.jpg",className:"flex-shrink-0 w-full h-full",alt:""})})}),Object(S.jsx)("div",{className:"max-w-lg mx-auto col-span-full lg:col-span-3 lg:pr-3",children:Object(S.jsx)("img",{src:"https://i1.wp.com/www.labrujulaverde.com/wp-content/uploads/2016/08/Picture2.png?fit=721%2C464&ssl=1",className:"flex-shrink-0 w-full h-full",alt:""})})]}),Object(S.jsxs)("div",{className:"grid max-w-6xl grid-cols-1 mx-auto mt-8 lg:grid-cols-7 font-display",id:"Imagenes",children:[Object(S.jsx)("div",{className:"w-full h-full col-span-full lg:col-span-4 lg:pr-8",children:Object(S.jsx)("div",{className:"max-w-lg mx-auto col-span-full lg:col-span-3 lg:pr-8",children:Object(S.jsx)("img",{src:"https://images.squarespace-cdn.com/content/v1/573ce49d62cd94ec580a78ab/1475278078124-149KYW11FZ7XXAMKRY7G/image-asset.jpeg",className:"flex-shrink-0 w-full h-full",alt:""})})}),Object(S.jsx)("div",{className:"max-w-lg mx-auto col-span-full lg:col-span-3 lg:pr-3",children:Object(S.jsx)("img",{src:"https://img.bsginstitute.com/repositorioweb/bs-campus/image_blogs/construccion/modelos-3d-2.png",className:"flex-shrink-0 w-full h-full",alt:""})})]})]})}),Z=function(e){e.children;return Object(S.jsxs)("div",{className:"flex flex-col justify-between h-screen",children:[Object(S.jsx)(G,{}),Object(S.jsx)(Y,{}),Object(S.jsx)(J,{})]})},B=c(103),X=c(134),K=c(170),H=c(166),Q=c(102),W=function(){return Object(S.jsx)("div",{children:Object(S.jsx)(y.b,{to:"/inicio",children:Object(S.jsx)("img",{src:"https://i.imgur.com/BGrCyh2.png",className:"stylePage2",alt:"1"})})})},ee=function(){return Object(S.jsx)("div",{children:"Pagina 2"})},te=function(){return Object(S.jsx)("div",{children:"Index Category1"})},ce=function(){return Object(S.jsx)("div",{children:"pagina /category/page1"})},ne=c(161),se=Object(q.a)(r||(r=Object(F.a)(["\n  query Query($filtro: FiltroUsuarios) {\n    Usuarios(filtro: $filtro) {\n      _id\n      nombre\n      apellido\n      correo\n      estado\n      identificacion\n      rol\n    }\n  }\n"]))),ae=Object(q.a)(i||(i=Object(F.a)(["\n  query Usuario($_id: String!) {\n    Usuario(_id: $_id) {\n      _id\n      nombre\n      apellido\n      correo\n      estado\n      identificacion\n      rol\n    }\n  }\n"]))),re={ADMINISTRADOR:"Administrador",ESTUDIANTE:"Estudiante",LIDER:"L\xedder"},ie={PENDIENTE:"Pendiente",AUTORIZADO:"Autorizado",NO_AUTORIZADO:"No autorizado"},oe={ACTIVO:"Activo",INACTIVO:"Inactivo"},le={GENERAL:"General",ESPECIFICO:"Espec\xedfico"},de=function(e){var t=e.roleList,c=e.children,n=E().userData;return t.includes(n.rol)?c:Object(S.jsx)("div",{className:"text-9xl text-red-500 ",children:"No est\xe1s autorizado para ver este sitio."})},je=function(){var e=Object(ne.a)(se),t=e.data,c=e.error,n=e.loading;return Object(O.useEffect)((function(){c&&P.b.error("Error consultando los usuarios")}),[c]),n?Object(S.jsx)("div",{children:"Cargando...."}):Object(S.jsx)(de,{roleList:["ADMINISTRADOR"],children:Object(S.jsxs)("div",{children:["Datos Usuarios:",Object(S.jsxs)("table",{className:"tabla",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"Nombre"}),Object(S.jsx)("th",{children:"Apellidos"}),Object(S.jsx)("th",{children:"Correo"}),Object(S.jsx)("th",{children:"Identificaci\xf3n"}),Object(S.jsx)("th",{children:"Rol"}),Object(S.jsx)("th",{children:"Estado"}),Object(S.jsx)("th",{children:"Editar"})]})}),Object(S.jsx)("tbody",{children:t&&t.Usuarios?Object(S.jsx)(S.Fragment,{children:t.Usuarios.map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.nombre}),Object(S.jsx)("td",{children:e.apellido}),Object(S.jsx)("td",{children:e.correo}),Object(S.jsx)("td",{children:e.identificacion}),Object(S.jsx)("td",{children:re[e.rol]}),Object(S.jsx)("td",{children:ie[e.estado]}),Object(S.jsx)("td",{children:Object(S.jsx)(y.b,{to:"/usuarios/editar/".concat(e._id),children:Object(S.jsx)("i",{className:"fas fa-pen text-blue-600 hover:text-blue-400 cursor-pointer"})})})]},e._id)}))}):Object(S.jsx)("div",{children:"No autorizado"})})]})]})})},be=Object(q.a)(o||(o=Object(F.a)(["\nquery Avances {\n    Avances {\n      fecha\n      descripcion\n      proyecto {\n        nombre\n        estado\n      }\n    }\n  }\n\n"]))),ue=function(){var e=Object(ne.a)(be).data;return Object(O.useEffect)((function(){console.log("data servudir",e)}),[e]),Object(S.jsxs)("div",{children:["Datos de los avances:",Object(S.jsxs)("table",{className:"tabla",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"Fecha"}),Object(S.jsx)("th",{children:"Descripcion"}),Object(S.jsx)("th",{children:"Nombre del proyecto"}),Object(S.jsx)("th",{children:"Estado del proyecto"}),Object(S.jsx)("th",{children:"Editar"})]})}),Object(S.jsx)("tbody",{children:e&&e.Avances?Object(S.jsx)(S.Fragment,{children:e.Avances.map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.fecha}),Object(S.jsx)("td",{children:e.descripcion}),Object(S.jsx)("td",{children:e.proyecto.nombre}),Object(S.jsx)("td",{children:e.proyecto.estado}),Object(S.jsx)("td",{children:Object(S.jsx)(y.b,{to:"/avances/editar/".concat(e._id),children:Object(S.jsx)("i",{className:"fas fa-pen text-blue-600 hover:text-blue-400 cursor-pointer"})})})]},e._id)}))}):Object(S.jsx)("div",{children:"No autorizado"})})]})]})},xe=function(e){var t=e.label,c=e.name,n=e.defaultValue,s=e.type,a=e.required;return Object(S.jsxs)("label",{htmlFor:c,className:"flex flex-col my-3",children:[Object(S.jsx)("span",{className:"justify-center",children:t}),Object(S.jsx)("input",{required:a,type:s,name:c,className:"input",defaultValue:n})]})},me=c(99),Oe=c.n(me),fe=function(e){var t=e.disabled,c=e.loading,n=e.text,s=e.onClick,a=void 0===s?function(){}:s;return Object(S.jsx)("button",{onClick:a,disabled:t,type:"submit",className:"bg-red-700 text-white font-bold text-lg py-3 px-6  rounded-xl hover:bg-red-500 shadow-md my-2 disabled:opacity-50 disabled:bg-gray-700",children:c?Object(S.jsx)(Oe.a,{type:"spin",height:30,width:30}):n})},he=c(10),pe=function(e){var t=Object(O.useRef)(e),c=Object(O.useState)({}),n=Object(g.a)(c,2),s=n[0],a=n[1];return{form:t,formData:s,updateFormData:function(){a(function(){var e=new FormData(t.current),c={};return e.forEach((function(e,t){if(t.includes("nested")){var n=t.split("||"),s=Object(g.a)(n,3),a=s[0],r=s[1],i=s[2];Object.keys(c).includes(a)?Object.keys(c[a]).includes(r)?c[a][r][i]=e:c[a][r]=Object(he.a)({},i,e):c[a]=Object(he.a)({},r,Object(he.a)({},i,e))}else c[t]=e})),console.log(c),c}())}}},ge=Object(q.a)(l||(l=Object(F.a)(["\n  mutation EditarUsuario(\n    $_id: String!\n    $nombre: String!\n    $apellido: String!\n    $identificacion: String!\n    $correo: String!\n    $estado: Enum_EstadoUsuario!\n  ) {\n    editarUsuario(\n      _id: $_id\n      nombre: $nombre\n      apellido: $apellido\n      identificacion: $identificacion\n      correo: $correo\n      estado: $estado\n    ) {\n      _id\n      nombre\n      apellido\n      correo\n      estado\n      identificacion\n      rol\n    }\n  }\n"]))),ve=c(19),ye=c(76),Ne=function(e){var t=e.label,c=e.name,n=e.defaultValue,s=void 0===n?"":n,a=e.required,r=e.options,i=Object(O.useState)(s),o=Object(g.a)(i,2),l=o[0],d=o[1],j=[["","Seleccione una opci\xf3n",!0]].concat(Object(ve.a)(Object.entries(r)));return Object(O.useEffect)((function(){d(s)}),[s]),Object(S.jsxs)("label",{htmlFor:c,className:"flex flex-col my-3",children:[Object(S.jsx)("span",{children:t}),Object(S.jsx)("select",{required:a,name:c,className:"input",value:l,onChange:function(e){return d(e.target.value)},children:j.map((function(e){var t;return Object(S.jsx)("option",{value:e[0],disabled:null!==(t=e[2])&&void 0!==t&&t,children:e[1]},Object(ye.a)())}))})]})},we=function(){var e=pe(null),t=e.form,c=e.formData,n=e.updateFormData,s=Object(R.h)()._id,a=Object(ne.a)(ae,{variables:{_id:s}}),r=a.data,i=a.error,o=a.loading,l=Object(L.a)(ge),d=Object(g.a)(l,2),j=d[0],b=d[1],u=b.data,x=b.loading,m=b.error;return Object(O.useEffect)((function(){u&&P.b.success("Usuario modificado correctamente")}),[u]),Object(O.useEffect)((function(){m&&P.b.error("Error modificando el usuario"),i&&P.b.error("Error consultando el usuario")}),[i,m]),o?Object(S.jsx)("div",{children:"Cargando...."}):Object(S.jsxs)("div",{className:"flew flex-col w-full h-full items-center justify-center p-10",children:[Object(S.jsx)(y.b,{to:"/usuarios",children:Object(S.jsx)("i",{className:"fas fa-arrow-left text-gray-600 cursor-pointer font-bold text-xl hover:text-gray-900"})}),Object(S.jsx)("h1",{className:"m-4 text-3xl text-gray-800 font-bold text-center",children:"Editar Usuario"}),Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),delete c.rol,j({variables:Object(v.a)({_id:s},c)})},onChange:n,ref:t,className:"flex flex-col items-center justify-center",children:[Object(S.jsx)(xe,{label:"Nombre de la persona:",type:"text",name:"nombre",defaultValue:r.Usuario.nombre,required:!0}),Object(S.jsx)(xe,{label:"Apellido de la persona:",type:"text",name:"apellido",defaultValue:r.Usuario.apellido,required:!0}),Object(S.jsx)(xe,{label:"Correo de la persona:",type:"email",name:"correo",defaultValue:r.Usuario.correo,required:!0}),Object(S.jsx)(xe,{label:"Identificaci\xf3n de la persona:",type:"text",name:"identificacion",defaultValue:r.Usuario.identificacion,required:!0}),Object(S.jsx)(Ne,{label:"Estado de la persona:",name:"estado",defaultValue:r.Usuario.estado,required:!0,options:ie}),Object(S.jsxs)("span",{children:["Rol del usuario: ",r.Usuario.rol]}),Object(S.jsx)(fe,{disabled:0===Object.keys(c).length,loading:x,text:"Confirmar"})]})]})},Ie=function(){return Object(S.jsx)("div",{className:"flex flex-col md:flex-row flex-no-wrap h-screen",children:Object(S.jsx)("div",{className:"flex w-full h-full",children:Object(S.jsx)("div",{className:"w-full h-full  overflow-y-scroll",children:Object(S.jsx)(R.a,{})})})})},Ee=function(){var e=w().setToken,t=Object(R.g)(),c=pe(),n=c.form,s=c.formData,a=c.updateFormData,r=Object(L.a)(U),i=Object(g.a)(r,2),o=i[0],l=i[1].data;return Object(O.useEffect)((function(){l&&l.registro.token&&(e(l.registro.token),t("/"))}),[l,e,t]),Object(S.jsxs)("div",{className:"flex flex-col h-full w-full items-center justify-center",children:[Object(S.jsx)("h1",{className:"text-3xl font-bold my-4",children:"Reg\xedstrate"}),Object(S.jsxs)("form",{className:"flex flex-col",onSubmit:function(e){e.preventDefault(),o({variables:s})},onChange:a,ref:n,children:[Object(S.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[Object(S.jsx)(xe,{label:"Nombre:",name:"nombre",type:"text",required:!0}),Object(S.jsx)(xe,{label:"Apellido:",name:"apellido",type:"text",required:!0}),Object(S.jsx)(xe,{label:"Documento:",name:"identificacion",type:"text",required:!0}),Object(S.jsx)(Ne,{label:"Rol deseado:",name:"rol",required:!0,options:re}),Object(S.jsx)(xe,{label:"Correo:",name:"correo",type:"email",required:!0}),Object(S.jsx)(xe,{label:"Contrase\xf1a:",name:"password",type:"password",required:!0})]}),Object(S.jsx)(fe,{disabled:0===Object.keys(s).length,loading:!1,text:"Registrarme"})]}),Object(S.jsx)("span",{children:"\xbfYa tienes una cuenta?"}),Object(S.jsx)(y.b,{to:"/auth/login",children:Object(S.jsx)("span",{className:"text-blue-700",children:"Inicia sesi\xf3n"})})]})},Se=function(){var e=Object(R.g)(),t=w().setToken,c=pe(),n=c.form,s=c.formData,a=c.updateFormData,r=Object(L.a)(M),i=Object(g.a)(r,2),o=i[0],l=i[1],d=l.data,j=l.loading;return Object(O.useEffect)((function(){d&&d.login.token&&(t(d.login.token),e("/"))}),[d,t,e]),Object(S.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-full p-10 ",children:Object(S.jsxs)("div",{className:"flex flex-col items-center justify-center w-50 h-50 p-20 rounded-3xl bg-gray-200",children:[Object(S.jsx)("h1",{className:"text-xl uppercase font-bold text-gray-900",children:"Iniciar sesi\xf3n"}),Object(S.jsxs)("form",{className:"flex flex-col",onSubmit:function(e){e.preventDefault(),o({variables:s})},onChange:a,ref:n,children:[Object(S.jsx)(xe,{name:"correo",type:"email",label:"Correo",required:!0}),Object(S.jsx)(xe,{name:"password",type:"password",label:"Contrase\xf1a",required:!0}),Object(S.jsx)(fe,{disabled:0===Object.keys(s).length,loading:j,text:"Iniciar Sesi\xf3n"})]}),Object(S.jsx)("span",{children:"\xbfNo tienes una cuenta?"}),Object(S.jsx)(y.b,{to:"/auth/register",children:Object(S.jsx)("span",{className:"text-red-700",children:"Reg\xedstrate"})})]})})},De=Object(q.a)(d||(d=Object(F.a)(["\n  query Proyectos {\n    Proyectos {\n      _id\n      nombre\n      estado\n      objetivos {\n        descripcion\n        tipo\n      }\n      lider {\n        _id\n        correo\n      }\n      inscripciones {\n        estado\n        estudiante {\n          _id\n        }\n      }\n    }\n  }\n"]))),ke=c(168),Ce=Object(q.a)(j||(j=Object(F.a)(["\n  mutation Mutation($_id: String!, $campos: camposProyecto!) {\n    editarProyecto(_id: $_id, campos: $campos) {\n      _id\n      estado\n    }\n  }\n"]))),_e=Object(q.a)(b||(b=Object(F.a)(["\n  mutation CrearProyecto(\n    $nombre: String!\n    $presupuesto: Float!\n    $fechaInicio: Date!\n    $fechaFin: Date!\n    $lider: String!\n    $objetivos: [crearObjetivo]\n  ) {\n    crearProyecto(\n      nombre: $nombre\n      presupuesto: $presupuesto\n      fechaInicio: $fechaInicio\n      fechaFin: $fechaFin\n      lider: $lider\n      objetivos: $objetivos\n    ) {\n      _id\n    }\n  }\n"]))),Ae=Object(q.a)(u||(u=Object(F.a)(["\n  mutation Mutation($proyecto: String!, $estudiante: String!) {\n    crearInscripcion(proyecto: $proyecto, estudiante: $estudiante) {\n      _id\n    }\n  }\n"]))),$e=Object(q.a)(x||(x=Object(F.a)(["\n  mutation AprobarInscripcion($aprobarInscripcionId: String!) {\n    aprobarInscripcion(id: $aprobarInscripcionId) {\n      _id\n    }\n  }\n"]))),Te=c(171),Re=c(169),Pe=c(175),Le=c(14),Fe=Object(Le.a)((function(e){return Object(S.jsx)(Te.a,Object(v.a)({},e))}))((function(e){e.theme;return{backgroundColor:"#919191"}})),qe=Object(Le.a)((function(e){return Object(S.jsx)(Re.a,Object(v.a)({},e))}))((function(e){e.theme;return{backgroundColor:"#919191"}})),Ue=Object(Le.a)((function(e){return Object(S.jsx)(Pe.a,Object(v.a)({},e))}))((function(e){e.theme;return{backgroundColor:"#ccc"}})),Me=function(e){var t=e.proyecto,c=Object(O.useState)(!1),n=Object(g.a)(c,2),s=n[0],a=n[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(Fe,{children:[Object(S.jsx)(qe,{expandIcon:Object(S.jsx)("i",{className:"fas fa-chevron-down"}),children:Object(S.jsx)("div",{className:"flex w-full justify-between",children:Object(S.jsxs)("div",{className:"uppercase font-bold text-gray-100 ",children:[t.nombre," - ",t.estado]})})}),Object(S.jsxs)(Ue,{children:[Object(S.jsx)(D,{roleList:["ADMINISTRADOR"],children:Object(S.jsx)("i",{className:"mx-4 fas fa-pen text-yellow-600 hover:text-yellow-400",onClick:function(){a(!0)}})}),Object(S.jsx)(D,{roleList:["ESTUDIANTE"],children:Object(S.jsx)(Ge,{idProyecto:t._id,estado:t.estado,inscripciones:t.inscripciones})}),Object(S.jsxs)("div",{children:["Liderado Por: ",t.lider.correo]}),Object(S.jsx)("div",{className:"flex",children:t.objetivos.map((function(e){return Object(S.jsx)(Ve,{tipo:e.tipo,descripcion:e.descripcion})}))})]})]}),Object(S.jsx)(ke.a,{open:s,onClose:function(){a(!1)},children:Object(S.jsx)(ze,{_id:t._id})})]})},ze=function(e){var t=e._id,c=pe(),n=c.form,s=c.formData,a=c.updateFormData,r=Object(L.a)(Ce),i=Object(g.a)(r,2),o=i[0],l=i[1],d=l.data,j=l.loading;return Object(O.useEffect)((function(){console.log("data mutation",d)}),[d]),Object(S.jsxs)("div",{className:"p-4",children:[Object(S.jsx)("h1",{className:"font-bold",children:"Modificar Estado del Proyecto"}),Object(S.jsxs)("form",{ref:n,onChange:a,onSubmit:function(e){e.preventDefault(),o({variables:{_id:t,campos:s}})},className:"flex flex-col items-center",children:[Object(S.jsx)(Ne,{label:"Estado del Proyecto",name:"estado",options:oe}),Object(S.jsx)(fe,{disabled:!1,loading:j,text:"Confirmar"})]})]})},Ve=function(e){var t=e.tipo,c=e.descripcion;return Object(S.jsxs)("div",{className:"mx-5 my-4 bg-gray-50 p-8 rounded-lg flex flex-col items-center justify-center shadow-xl",children:[Object(S.jsx)("div",{className:"text-lg font-bold",children:t}),Object(S.jsx)("div",{children:c}),Object(S.jsx)(D,{roleList:["ADMINISTRADOR"],children:Object(S.jsx)("div",{children:"Editar"})})]})},Ge=function(e){var t=e.idProyecto,c=e.estado,n=e.inscripciones,s=Object(O.useState)(""),a=Object(g.a)(s,2),r=a[0],i=a[1],o=Object(L.a)(Ae),l=Object(g.a)(o,2),d=l[0],j=l[1],b=j.data,u=j.loading,x=E().userData;Object(O.useEffect)((function(){if(x&&n){var e=n.filter((function(e){return e.estudiante._id===x._id}));e.length>0&&i(e[0].estado)}}),[x,n]),Object(O.useEffect)((function(){b&&(console.log(b),P.b.success("inscripcion creada con exito"))}),[b]);return Object(S.jsx)(S.Fragment,{children:""!==r?Object(S.jsxs)("span",{children:["Ya estas inscrito en este proyecto y el estado es ",r]}):Object(S.jsx)(fe,{onClick:function(){d({variables:{proyecto:t,estudiante:x._id}})},disabled:"INACTIVO"===c,loading:u,text:"Inscribirme en este proyecto"})})},Je=function(){var e=Object(ne.a)(De),t=e.data,c=e.loading;return Object(O.useEffect)((function(){console.log("datos proyecto",t)}),[t]),c?Object(S.jsx)("div",{children:"Cargando..."}):t.Proyectos?Object(S.jsxs)("div",{className:"p-10 flex flex-col",children:[Object(S.jsx)("div",{className:"flex w-full items-center justify-center",children:Object(S.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Lista de Proyectos"})}),Object(S.jsx)(D,{roleList:["ADMINISTRADOR","LIDER"],children:Object(S.jsx)("div",{className:"my-2 self-end",children:Object(S.jsx)("button",{className:"bg-indigo-500 text-gray-50 p-2 rounded-lg shadow-lg hover:bg-indigo-400",children:Object(S.jsx)(y.b,{to:"/proyectos/nuevo",children:"Crear nuevo proyecto"})})})}),t.Proyectos.map((function(e){return Object(S.jsx)(Me,{proyecto:e})}))]}):Object(S.jsx)(S.Fragment,{})},Ye=c(101),Ze=(c(128),c(129),Object(O.createContext)(null)),Be=function(){var e=Object(O.useState)([]),t=Object(g.a)(e,2),c=t[0],n=t[1],s=Object(O.useState)(!1),a=Object(g.a)(s,2),r=a[0],i=a[1],o=function(){var e=Object(ye.a)();return Object(S.jsx)(Xe,{id:e},e)};return Object(O.useEffect)((function(){c.length>4?i(!0):i(!1)}),[c]),Object(S.jsx)(Ze.Provider,{value:{eliminarObjetivo:function(e){n(c.filter((function(t){return t.props.id!==e})))}},children:Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{children:"Objetivos del Proyecto"}),!r&&Object(S.jsx)("i",{onClick:function(){return n([].concat(Object(ve.a)(c),[o()]))},className:"fas fa-plus rounded-full bg-green-500 hover:bg-green-400 text-white p-2 mx-2 cursor-pointer"}),c.map((function(e){return e}))]})})},Xe=function(e){var t=e.id,c=Object(O.useContext)(Ze).eliminarObjetivo;return Object(S.jsxs)("div",{className:"flex items-center",children:[Object(S.jsx)(xe,{name:"nested||objetivos||".concat(t,"||descripcion"),label:"Descripci\xf3n",type:"text",required:!0}),Object(S.jsx)(Ne,{name:"nested||objetivos||".concat(t,"||tipo"),options:le,label:"Tipo de Objetivo",required:!0}),Object(S.jsx)("i",{onClick:function(){return c(t)},className:"fas fa-minus rounded-full bg-red-500 hover:bg-red-400 text-white p-2 mx-2 cursor-pointer mt-6"})]})},Ke=function(){var e=pe(),t=e.form,c=e.formData,n=e.updateFormData,s=Object(O.useState)({}),a=Object(g.a)(s,2),r=a[0],i=a[1],o=Object(ne.a)(se,{variables:{filtro:{rol:"LIDER",estado:"AUTORIZADO"}}}),l=o.data,d=o.loading,j=Object(L.a)(_e),b=Object(g.a)(j,2),u=b[0],x=b[1].data;Object(O.useEffect)((function(){if(console.log(l),l){var e={};l.Usuarios.forEach((function(t){e[t._id]=t.correo})),i(e)}}),[l]),Object(O.useEffect)((function(){console.log("data mutation",x)}));return d?Object(S.jsx)("div",{children:"...Loading"}):Object(S.jsxs)("div",{className:"p-10 flex flex-col items-center",children:[Object(S.jsx)("div",{className:"self-start",children:Object(S.jsx)(y.b,{to:"/proyectos",children:Object(S.jsx)("i",{className:"fas fa-arrow-left"})})}),Object(S.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Crear Nuevo Proyecto"}),Object(S.jsxs)("form",{ref:t,onChange:n,onSubmit:function(e){e.preventDefault(),c.objetivos=Object.values(c.objetivos),c.presupuesto=parseFloat(c.presupuesto),u({variables:c})},children:[Object(S.jsx)(xe,{name:"nombre",label:"Nombre del Proyecto",required:!0,type:"text"}),Object(S.jsx)(xe,{name:"presupuesto",label:"Presupuesto del Proyecto",required:!0,type:"number"}),Object(S.jsx)(xe,{name:"fechaInicio",label:"Fecha de Inicio",required:!0,type:"date"}),Object(S.jsx)(xe,{name:"fechaFin",label:"Fecha de Fin",required:!0,type:"date"}),Object(S.jsx)(Ne,{label:"L\xedder",options:r,name:"lider",required:!0}),Object(S.jsx)(Be,{}),Object(S.jsx)(fe,{text:"Crear Proyecto",loading:!1,disabled:!1})]})]})},He=Object(q.a)(m||(m=Object(F.a)(["\n  query Inscripciones {\n    Inscripciones {\n      _id\n      estado\n      estudiante {\n        _id\n        nombre\n        apellido\n        correo\n      }\n      proyecto {\n        _id\n        nombre\n        lider {\n          _id\n        }\n      }\n    }\n  }\n"]))),Qe=function(e){var t=e.data,c=e.titulo,n=e.refetch,s=void 0===n?function(){}:n;return Object(S.jsxs)(Fe,{children:[Object(S.jsxs)(qe,{children:[c," (",t.length,")"]}),Object(S.jsx)(Ue,{children:Object(S.jsx)("div",{className:"flex",children:t&&t.map((function(e){return Object(S.jsx)(We,{inscripcion:e,refetch:s})}))})})]})},We=function(e){var t=e.inscripcion,c=e.refetch,n=Object(L.a)($e),s=Object(g.a)(n,2),a=s[0],r=s[1],i=r.data,o=r.loading,l=r.error;Object(O.useEffect)((function(){i&&(P.b.success("Inscripcion aprobada con exito"),c())})),Object(O.useEffect)((function(){l&&P.b.error("Error aprobando la inscripcion")}),[l]);return Object(S.jsxs)("div",{className:"bg-gray-900 text-gray-50 flex flex-col p-6 m-2 rounded-lg shadow-xl",children:[Object(S.jsx)("span",{children:t.proyecto.nombre}),Object(S.jsx)("span",{children:t.estudiante.nombre}),Object(S.jsx)("span",{children:t.estado}),"PENDIENTE"===t.estado&&Object(S.jsx)(fe,{onClick:function(){a({variables:{aprobarInscripcionId:t._id}})},text:"Aprobar Inscripcion",loading:o,disabled:!1})]})},et=function(){var e=Object(ne.a)(He),t=e.data,c=e.loading,n=e.refetch;return Object(O.useEffect)((function(){console.log(t)}),[t]),c?Object(S.jsx)("div",{children:"Loading..."}):Object(S.jsx)(de,{roleList:["ADMINISTRADOR","LIDER"],children:Object(S.jsxs)("div",{className:"p-10",children:[Object(S.jsx)("div",{children:"Pagina de inscripciones"}),Object(S.jsxs)("div",{className:"my-4",children:[Object(S.jsx)(Qe,{titulo:"Inscripciones aprobadas",data:t.Inscripciones.filter((function(e){return"ACEPTADO"===e.estado}))}),Object(S.jsx)(Qe,{titulo:"Inscripciones pendientes",data:t.Inscripciones.filter((function(e){return"PENDIENTE"===e.estado})),refetch:n}),Object(S.jsx)(Qe,{titulo:"Inscripciones rechazadas",data:t.Inscripciones.filter((function(e){return"RECHAZADO"===e.estado}))})]})]})})},tt=Object(B.a)({uri:"https://c4back.herokuapp.com/graphql"}),ct=Object(Q.a)((function(e,t){var c=t.headers,n=JSON.parse(localStorage.getItem("token"));return{headers:Object(v.a)(Object(v.a)({},c),{},{authorization:n?"Bearer ".concat(n):""})}})),nt=new X.a({cache:new K.a,link:ct.concat(tt)});var st=function(){var e=Object(O.useState)({}),t=Object(g.a)(e,2),c=t[0],n=t[1],s=Object(O.useState)(""),a=Object(g.a)(s,2),r=a[0],i=a[1];return Object(O.useEffect)((function(){if(r){var e=Object(Ye.a)(r);n({_id:e._id,nombre:e.nombre,apellido:e.apellido,identificacion:e.identificacion,correo:e.correo,rol:e.rol})}}),[r]),Object(S.jsx)(H.a,{client:nt,children:Object(S.jsx)(N.Provider,{value:{authToken:r,setAuthToken:i,setToken:function(e){console.log("set token",e),i(e),e?localStorage.setItem("token",JSON.stringify(e)):localStorage.removeItem("token")}},children:Object(S.jsx)(I.Provider,{value:{userData:c,setUserData:n},children:Object(S.jsx)(y.a,{children:Object(S.jsxs)(R.d,{children:[Object(S.jsxs)(R.b,{path:"/",element:Object(S.jsx)(V,{}),children:[Object(S.jsx)(R.b,{path:"",element:Object(S.jsx)(W,{})}),Object(S.jsx)(R.b,{path:"/usuarios",element:Object(S.jsx)(je,{})}),Object(S.jsx)(R.b,{path:"/usuarios/editar/:_id",element:Object(S.jsx)(we,{})}),Object(S.jsx)(R.b,{path:"/avances",element:Object(S.jsx)(ue,{})}),Object(S.jsx)(R.b,{path:"/proyectos",element:Object(S.jsx)(Je,{})}),Object(S.jsx)(R.b,{path:"/proyectos/nuevo",element:Object(S.jsx)(Ke,{})}),Object(S.jsx)(R.b,{path:"/inscripciones",element:Object(S.jsx)(et,{})}),Object(S.jsx)(R.b,{path:"page2",element:Object(S.jsx)(ee,{})}),Object(S.jsx)(R.b,{path:"category1",element:Object(S.jsx)(te,{})}),Object(S.jsx)(R.b,{path:"category1/page1",element:Object(S.jsx)(ce,{})})]}),Object(S.jsxs)(R.b,{path:"/auth",element:Object(S.jsx)(Ie,{}),children:[Object(S.jsx)(R.b,{path:"register",element:Object(S.jsx)(Ee,{})}),Object(S.jsx)(R.b,{path:"login",element:Object(S.jsx)(Se,{})})]}),Object(S.jsx)(R.b,{path:"/inicio",element:Object(S.jsx)(Z,{})})]})})})})})},at=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,177)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};p.a.render(Object(S.jsx)(f.a.StrictMode,{children:Object(S.jsx)(st,{})}),document.getElementById("root")),at()}},[[130,1,2]]]);
//# sourceMappingURL=main.9858dc0a.chunk.js.map